import { TimeToLiveUnit } from "./enums"

function getNumberOfSeconds(timeToLiveUnit: `${TimeToLiveUnit}`) {
  let seconds: number
  switch (timeToLiveUnit) {
    case TimeToLiveUnit.DAY:
      seconds = 86400
      break
    case TimeToLiveUnit.HOUR:
      seconds = 3600
      break
    case TimeToLiveUnit.MIN:
      seconds = 60
      break
    default:
      throw new Error("Not implemented")
  }
  return seconds
}

export function estimateTimestamp({
  timeToLiveUnit,
  timeToLive,
}: {
  timeToLiveUnit: `${TimeToLiveUnit}` | null
  timeToLive: string
}) {
  const seconds = getNumberOfSeconds(timeToLiveUnit ?? TimeToLiveUnit.DAY)
  return Math.trunc(Date.now() / 1000 + seconds * parseInt(timeToLive))
}

function getFormattedUnit(timeToLiveUnit: `${TimeToLiveUnit}` | undefined) {
  let formattedUnit: string
  switch (timeToLiveUnit) {
    case TimeToLiveUnit.DAY:
      formattedUnit = "day"
      break
    case TimeToLiveUnit.HOUR:
      formattedUnit = "hour"
      break
    case TimeToLiveUnit.MIN:
      formattedUnit = "minute"
      break
    default:
      throw new Error("Not implemented")
  }
  return formattedUnit
}

export function getFormattedTimeToLive(
  timeToLiveValue: string | undefined,
  timeToLiveUnit?: `${TimeToLiveUnit}` | null,
) {
  return `${timeToLiveValue} ${getFormattedUnit(
    timeToLiveUnit ?? TimeToLiveUnit.DAY,
  )}${Number(timeToLiveValue) > 1 ? "s" : ""}`
}

export const sourceIcons: { [key: string]: JSX.Element } = {
  zeroLend: (
    <img
      src="/assets/liquiditySources/zerolend.webp"
      alt="ZeroLend"
      width="18"
      height="24"
    />
  ),
  orbit: (
    <img
      src="/assets/liquiditySources/orbit.webp"
      alt="Orbit"
      width="24"
      height="24"
    />
  ),
  aave: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="none"
    >
      <g clip-path="url(#clip0_4250_30016)">
        <path
          d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"
          fill="url(#paint0_linear_4250_30016)"
        />
        <path
          d="M12.9391 12.5861L9.89579 5.22833C9.72414 4.84792 9.46899 4.66235 9.13265 4.66235H8.86358C8.52724 4.66235 8.27208 4.84792 8.10043 5.22833L6.77595 8.43401H5.77389C5.47466 8.43633 5.2311 8.67757 5.22878 8.97911V8.98607C5.2311 9.2853 5.47466 9.52886 5.77389 9.53118H6.31203L5.04786 12.5861C5.02466 12.6533 5.01074 12.7229 5.01074 12.7948C5.01074 12.9665 5.06409 13.101 5.1592 13.2054C5.2543 13.3098 5.39115 13.3608 5.5628 13.3608C5.67646 13.3585 5.78548 13.3237 5.87595 13.2564C5.97337 13.1892 6.04064 13.0917 6.09399 12.9804L7.48574 9.52886H8.45069C8.74992 9.52654 8.99347 9.2853 8.99579 8.98375V8.96983C8.99347 8.67061 8.74992 8.42705 8.45069 8.42473H7.93574L8.99811 5.77808L11.893 12.9781C11.9463 13.0894 12.0136 13.1869 12.111 13.2541C12.2015 13.3214 12.3128 13.3562 12.4241 13.3585C12.5958 13.3585 12.7303 13.3075 12.8277 13.2031C12.9252 13.0987 12.9762 12.9642 12.9762 12.7925C12.9785 12.7229 12.9669 12.651 12.9391 12.5861Z"
          fill="white"
        />
      </g>
      <defs>
        <linearGradient
          id="paint0_linear_4250_30016"
          x1="15.1875"
          y1="2.25"
          x2="2.25"
          y2="15.1875"
          gradientUnits="userSpaceOnUse"
        >
          <stop stop-color="#B6519F" />
          <stop offset="1" stop-color="#31B8C6" />
        </linearGradient>
        <clipPath id="clip0_4250_30016">
          <rect width="18" height="18" fill="white" />
        </clipPath>
      </defs>
    </svg>
  ),
  stargate: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
    >
      <mask
        id="mask0_4250_29951"
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="16"
        height="16"
      >
        <path d="M15.3125 0.6875H0.6875V15.3125H15.3125V0.6875Z" fill="white" />
      </mask>
      <g mask="url(#mask0_4250_29951)">
        <mask
          id="mask1_4250_29951"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="16"
          height="16"
        >
          <path
            d="M15.3125 0.6875H0.6875V15.3125H15.3125V0.6875Z"
            fill="white"
          />
        </mask>
        <g mask="url(#mask1_4250_29951)">
          <path
            d="M9.45232 1.26596L9.84215 2.18396C10.6092 3.96964 12.0302 5.40322 13.8285 6.17031L14.7465 6.56014C14.9854 6.66074 15.1741 6.81164 15.325 6.9877C14.8722 3.73071 12.2943 1.15279 9.03734 0.700077C9.20082 0.838404 9.35172 1.02703 9.45232 1.26596ZM1.26584 6.54756L2.18383 6.15773C3.96952 5.39064 5.40309 3.96964 6.17018 2.17138L6.56002 1.25339C6.64804 1.02703 6.79895 0.82583 6.98757 0.674927C3.73059 1.12764 1.15266 3.70556 0.699956 6.96255C0.838283 6.79907 1.02691 6.64816 1.26584 6.54756ZM14.7339 9.45244L13.8159 9.84227C12.0302 10.6094 10.5967 12.0304 9.82958 13.8286L9.43974 14.734C9.35172 14.9604 9.20081 15.1616 9.01219 15.3125C12.2692 14.8598 14.8471 12.2819 15.2998 9.02488C15.1615 9.21351 14.9603 9.36441 14.7339 9.45244ZM6.54744 14.734L6.15761 13.8286C5.39052 12.0429 3.96952 10.6094 2.17126 9.84227L1.25327 9.45244C1.02691 9.36441 0.825708 9.21351 0.674805 9.02488C1.12751 12.2819 3.70544 14.8598 6.96242 15.3125C6.78637 15.1616 6.64804 14.9604 6.54744 14.734Z"
            fill="#9A9A9A"
          />
        </g>
        <path
          d="M4.68642 7.28949L5.13912 7.10086C6.01939 6.7236 6.7236 6.01939 7.10086 5.13912L7.28949 4.68642C7.55357 4.05765 8.44641 4.05765 8.72307 4.68642L8.9117 5.13912C9.28895 6.01939 9.99316 6.7236 10.8734 7.10086L11.3261 7.28949C11.9549 7.55357 11.9549 8.44641 11.3261 8.72307L10.8734 8.9117C9.99316 9.28895 9.28895 9.99316 8.9117 10.8734L8.72307 11.3261C8.45899 11.9549 7.56614 11.9549 7.28949 11.3261L7.10086 10.8734C6.7236 9.99316 6.01939 9.28895 5.13912 8.9117L4.68642 8.72307C4.05765 8.44641 4.05765 7.55357 4.68642 7.28949Z"
          fill="black"
        />
      </g>
    </svg>
  ),
  beefy: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="none"
    >
      <circle cx="9" cy="9" r="9" fill="white" />
      <path
        d="M6.14133 5.54959V4.8637C6.15009 4.36202 6.41306 3.96714 6.84551 3.79959C7.07374 3.70398 7.32558 3.6809 7.56723 3.73344C7.80888 3.78599 8.02876 3.91164 8.19737 4.09354C8.38389 4.28801 8.48857 4.54742 8.48956 4.81765V5.53391C8.70481 5.578 8.91324 5.54861 9.11972 5.55449C9.3262 5.56036 9.52197 5.55449 9.73527 5.55449C9.75863 5.36732 9.7645 5.17837 9.7528 4.9901C9.75005 4.84923 9.76345 4.70851 9.79273 4.57073C9.85567 4.32594 9.99781 4.1092 10.1967 3.95467C10.3957 3.80015 10.64 3.71663 10.8914 3.71728C11.4602 3.70847 11.9267 4.03377 12.0601 4.53643C12.094 4.68154 12.11 4.83028 12.1079 4.97932V5.51333C12.1614 5.57996 12.2286 5.55547 12.2871 5.55547H13.6185C13.704 5.55172 13.7897 5.5583 13.8737 5.57506C13.9777 5.59461 14.0728 5.64674 14.1456 5.724C14.2184 5.80126 14.265 5.89969 14.2788 6.00521C14.3065 6.1839 14.2969 6.36644 14.2506 6.54119C14.1539 6.93878 13.9658 7.30797 13.7013 7.61901C13.4422 7.91167 13.1643 8.18694 12.8695 8.44306C12.7838 8.52144 12.6971 8.60179 12.6182 8.68802C12.5623 8.74771 12.5187 8.81789 12.4898 8.89455C12.4609 8.97122 12.4473 9.05286 12.4497 9.13482C12.4556 10.1058 12.4575 11.0778 12.4497 12.0498C12.4457 12.6433 12.2425 13.2179 11.8733 13.6807C11.504 14.1434 10.9902 14.4672 10.4151 14.5994C10.2105 14.6477 10.001 14.6717 9.79079 14.6709C9.25315 14.6709 8.71942 14.6778 8.17887 14.6709C7.55604 14.6685 6.95442 14.4431 6.48183 14.0349C6.00923 13.6268 5.69654 13.0627 5.5998 12.4437C5.57449 12.2732 5.56374 12.1008 5.56766 11.9283C5.56766 11.0347 5.55208 10.1411 5.56766 9.24848C5.57377 9.11936 5.55065 8.99053 5.50003 8.87171C5.44941 8.75289 5.37263 8.6472 5.27547 8.5626C5.02938 8.33331 4.78426 8.10468 4.54012 7.87671C4.22813 7.58017 3.98589 7.2173 3.83107 6.81456C3.74416 6.60456 3.70171 6.37864 3.70641 6.15121C3.71809 5.74751 3.90997 5.55351 4.32001 5.54959H6.14133ZM7.96752 6.71266C7.94656 6.69575 7.92223 6.68359 7.89618 6.677C7.87012 6.6704 7.84297 6.66953 7.81655 6.67444H6.04198C5.75564 6.67444 5.64266 6.80672 5.68941 7.0899C5.72497 7.33207 5.83577 7.55672 6.00595 7.73169C6.13646 7.86495 6.26697 8.00017 6.40625 8.12363C6.49799 8.20244 6.57028 8.30161 6.61744 8.41333C6.66459 8.52504 6.68532 8.64624 6.67798 8.76738C6.6663 9.30728 6.67798 9.84521 6.67798 10.388V11.9626C6.67333 12.165 6.70837 12.3662 6.78112 12.5549C6.85386 12.7436 6.96287 12.916 7.10192 13.0622C7.24096 13.2085 7.4073 13.3257 7.59143 13.4072C7.77556 13.4887 7.97385 13.5329 8.17497 13.5372C8.20711 13.5372 8.23828 13.5372 8.27237 13.5372C8.80123 13.5177 9.3301 13.5372 9.85994 13.5304C10.1575 13.5252 10.4468 13.4312 10.6913 13.2604C10.9358 13.0897 11.1244 12.8498 11.2332 12.5711C11.3852 12.188 11.3365 11.7873 11.3306 11.4149C9.13628 10.5879 7.96752 9.0584 7.96752 6.71266ZM10.7531 10.1519C10.8853 10.1519 11.0122 10.099 11.1057 10.005C11.1992 9.91088 11.2517 9.78327 11.2517 9.65022C11.2517 9.51717 11.1992 9.38956 11.1057 9.29548C11.0122 9.2014 10.8853 9.14854 10.7531 9.14854C10.6208 9.14854 10.494 9.2014 10.4005 9.29548C10.3069 9.38956 10.2544 9.51717 10.2544 9.65022C10.2544 9.78327 10.3069 9.91088 10.4005 10.005C10.494 10.099 10.6208 10.1519 10.7531 10.1519ZM11.3199 5.54665C11.3199 5.29287 11.3297 5.05673 11.3199 4.81079C11.3102 4.6207 11.1767 4.51683 10.9722 4.5041C10.7365 4.49038 10.5719 4.58444 10.5515 4.78041C10.5252 5.03514 10.5252 5.29192 10.5515 5.54665H11.3199ZM7.6763 5.54665C7.68799 5.52411 7.70065 5.51137 7.70065 5.49766C7.70065 5.31149 7.70942 5.12434 7.70942 4.93817C7.71004 4.87513 7.70284 4.81226 7.68799 4.75102C7.64026 4.57269 7.48638 4.48156 7.27113 4.4992C7.07634 4.51487 6.94193 4.62658 6.93414 4.81471C6.92342 5.05477 6.93414 5.29483 6.93414 5.54469L7.6763 5.54665Z"
        fill="black"
      />
      <path
        d="M8.16037 9.65814C8.15883 9.75694 8.12827 9.85308 8.07252 9.93444C8.01678 10.0158 7.93835 10.0788 7.84712 10.1154C7.75588 10.152 7.65592 10.1606 7.55981 10.1402C7.46371 10.1197 7.37577 10.0711 7.30706 10.0005C7.23836 9.92991 7.19195 9.84041 7.1737 9.74332C7.15546 9.64622 7.16617 9.54586 7.20451 9.45488C7.24284 9.3639 7.30708 9.28637 7.38913 9.23204C7.47118 9.17772 7.56737 9.14903 7.6656 9.1496C7.72955 9.14856 7.79308 9.16021 7.85256 9.18388C7.91204 9.20754 7.9663 9.24277 8.01225 9.28753C8.05819 9.3323 8.09492 9.38573 8.12034 9.44478C8.14576 9.50383 8.15936 9.56734 8.16037 9.63168V9.65814Z"
        fill="black"
      />
    </svg>
  ),
}
